# Anno Configuration
# Copy to .env.local and modify as needed

# =============================================================================
# Server
# =============================================================================
PORT=5213

# =============================================================================
# Cache (in-memory LRU)
# =============================================================================
CACHE_MAX_ENTRIES=128
CACHE_TTL_MS=300000
# CACHE_ENCRYPTION_KEY=           # Optional: encrypt cached content

# =============================================================================
# Redis (optional, enabled by default in production)
# =============================================================================
REDIS_ENABLED=false
REDIS_URL=redis://localhost:6379
REDIS_TTL_MS=3600000

# =============================================================================
# Fetch
# =============================================================================
USER_AGENT=Anno/1.0
FETCH_TIMEOUT_MS=15000
RESPECT_ROBOTS=true
OVERRIDE_ROBOTS=false

# =============================================================================
# Rendering (Playwright)
# =============================================================================
RENDERING_ENABLED=true
RENDER_TIMEOUT_MS=20000
RENDER_WAIT_UNTIL=networkidle
RENDER_HEADLESS=true
RENDER_MAX_PAGES=2
RENDER_STEALTH=true
# PROXY_URL=                      # Optional: proxy for browser requests

# =============================================================================
# Metrics
# =============================================================================
METRICS_RESET_ENABLED=false
# METRICS_RESET_TOKEN=            # Required if reset enabled
ENABLE_STAGE_METRICS=true

# =============================================================================
# AI / LLM
# =============================================================================
AI_EMBEDDING_PROVIDER=deterministic
AI_LLM_PROVIDER=none
AI_VECTOR_STORE=memory
AI_SUMMARIZER=heuristic
AI_DEFAULT_K=3

# =============================================================================
# Policies
# =============================================================================
POLICY_ENABLED=true
POLICY_DIR=./policies
DEFAULT_POLICY=default.yaml
POLICY_VALIDATION_ENABLED=true

# =============================================================================
# Domains
# =============================================================================
DOMAIN_CONFIG_PATH=./config/domains.yaml

# =============================================================================
# Auth (for protected endpoints)
# =============================================================================
# ANNO_API_KEY=                   # Optional: require API key for requests
# ANNO_RATE_LIMIT=100             # Requests per minute per client
